{"id":"node_modules/winchan/winchan.js","dependencies":[{"name":"/Users/karkran/Documents/nikhil personal/REACT-SECURITY/React-security/authentication/package.json","includedInParent":true,"mtime":1539692776000},{"name":"/Users/karkran/Documents/nikhil personal/REACT-SECURITY/React-security/authentication/.babelrc","includedInParent":true,"mtime":1539682095000},{"name":"/Users/karkran/Documents/nikhil personal/REACT-SECURITY/React-security/authentication/node_modules/winchan/package.json","includedInParent":true,"mtime":1539682257000}],"generated":{"js":"var WinChan = (function() {\n  var RELAY_FRAME_NAME = \"__winchan_relay_frame\";\n  var CLOSE_CMD = \"die\";\n\n  // a portable addListener implementation\n  function addListener(w, event, cb) {\n    if(w.attachEvent) w.attachEvent('on' + event, cb);\n    else if (w.addEventListener) w.addEventListener(event, cb, false);\n  }\n\n  // a portable removeListener implementation\n  function removeListener(w, event, cb) {\n    if(w.detachEvent) w.detachEvent('on' + event, cb);\n    else if (w.removeEventListener) w.removeEventListener(event, cb, false);\n  }\n\n\n  // checking for IE8 or above\n  function isInternetExplorer() {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n\n    var rv = -1; // Return value assumes failure.\n    var ua = navigator.userAgent;\n    if (navigator.appName === 'Microsoft Internet Explorer') {\n      var re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\n      if (re.exec(ua) != null)\n        rv = parseFloat(RegExp.$1);\n    }\n    // IE > 11\n    else if (ua.indexOf(\"Trident\") > -1) {\n      var re = new RegExp(\"rv:([0-9]{2,2}[\\.0-9]{0,})\");\n      if (re.exec(ua) !== null) {\n        rv = parseFloat(RegExp.$1);\n      }\n    }\n\n    return rv >= 8;\n  }\n\n  // checking Mobile Firefox (Fennec)\n  function isFennec() {\n    try {\n      // We must check for both XUL and Java versions of Fennec.  Both have\n      // distinct UA strings.\n      var userAgent = navigator.userAgent;\n      return (userAgent.indexOf('Fennec/') != -1) ||  // XUL\n             (userAgent.indexOf('Firefox/') != -1 && userAgent.indexOf('Android') != -1);   // Java\n    } catch(e) {}\n    return false;\n  }\n\n  // feature checking to see if this platform is supported at all\n  function isSupported() {\n    return (typeof window !== 'undefined' && window.JSON && window.JSON.stringify &&\n            window.JSON.parse && window.postMessage);\n  }\n\n  // given a URL, extract the origin. Taken from: https://github.com/firebase/firebase-simple-login/blob/d2cb95b9f812d8488bdbfba51c3a7c153ba1a074/js/src/simple-login/transports/WinChan.js#L25-L30\n  function extractOrigin(url) {\n    if (!/^https?:\\/\\//.test(url)) url = window.location.href;\n    var m = /^(https?:\\/\\/[\\-_a-zA-Z\\.0-9:]+)/.exec(url);\n    if (m) return m[1];\n    return url;\n  }\n\n  // find the relay iframe in the opener\n  function findRelay() {\n    var loc = window.location;\n    var frames = window.opener.frames;\n    for (var i = frames.length - 1; i >= 0; i--) {\n      try {\n        if (frames[i].location.protocol === window.location.protocol &&\n            frames[i].location.host === window.location.host &&\n            frames[i].name === RELAY_FRAME_NAME)\n        {\n          return frames[i];\n        }\n      } catch(e) { }\n    }\n    return;\n  }\n\n  var isIE = isInternetExplorer();\n\n  if (isSupported()) {\n    /*  General flow:\n     *                  0. user clicks\n     *  (IE SPECIFIC)   1. caller adds relay iframe (served from trusted domain) to DOM\n     *                  2. caller opens window (with content from trusted domain)\n     *                  3. window on opening adds a listener to 'message'\n     *  (IE SPECIFIC)   4. window on opening finds iframe\n     *                  5. window checks if iframe is \"loaded\" - has a 'doPost' function yet\n     *  (IE SPECIFIC5)  5a. if iframe.doPost exists, window uses it to send ready event to caller\n     *  (IE SPECIFIC5)  5b. if iframe.doPost doesn't exist, window waits for frame ready\n     *  (IE SPECIFIC5)  5bi. once ready, window calls iframe.doPost to send ready event\n     *                  6. caller upon reciept of 'ready', sends args\n     */\n    return {\n      open: function(opts, cb) {\n        if (!cb) throw \"missing required callback argument\";\n\n        // test required options\n        var err;\n        if (!opts.url) err = \"missing required 'url' parameter\";\n        if (!opts.relay_url) err = \"missing required 'relay_url' parameter\";\n        if (err) setTimeout(function() { cb(err); }, 0);\n\n        // supply default options\n        if (!opts.window_name) opts.window_name = null;\n        if (!opts.window_features || isFennec()) opts.window_features = undefined;\n\n        // opts.params may be undefined\n\n        var iframe;\n\n        // sanity check, are url and relay_url the same origin?\n        var origin = opts.origin || extractOrigin(opts.url);\n        if (origin !== extractOrigin(opts.relay_url)) {\n          return setTimeout(function() {\n            cb('invalid arguments: origin of url and relay_url must match');\n          }, 0);\n        }\n\n        var messageTarget;\n\n        if (isIE) {\n          // first we need to add a \"relay\" iframe to the document that's served\n          // from the target domain.  We can postmessage into a iframe, but not a\n          // window\n          iframe = document.createElement(\"iframe\");\n          // iframe.setAttribute('name', framename);\n          iframe.setAttribute('src', opts.relay_url);\n          iframe.style.display = \"none\";\n          iframe.setAttribute('name', RELAY_FRAME_NAME);\n          document.body.appendChild(iframe);\n          messageTarget = iframe.contentWindow;\n        }\n\n        var w = opts.popup || window.open(opts.url, opts.window_name, opts.window_features);\n        if (opts.popup) {\n          w.location.href = opts.url;\n        }\n\n        if (!messageTarget) messageTarget = w;\n\n        // lets listen in case the window blows up before telling us\n        var closeInterval = setInterval(function() {\n          if (w && w.closed) {\n            cleanup();\n            if (cb) {\n              cb('User closed the popup window');\n              cb = null;\n            }\n          }\n        }, 500);\n\n        var req = JSON.stringify({a: 'request', d: opts.params});\n\n        // cleanup on unload\n        function cleanup() {\n          if (iframe) document.body.removeChild(iframe);\n          iframe = undefined;\n          if (closeInterval) closeInterval = clearInterval(closeInterval);\n          removeListener(window, 'message', onMessage);\n          removeListener(window, 'unload', cleanup);\n          if (w) {\n            try {\n              w.close();\n            } catch (securityViolation) {\n              // This happens in Opera 12 sometimes\n              // see https://github.com/mozilla/browserid/issues/1844\n              messageTarget.postMessage(CLOSE_CMD, origin);\n            }\n          }\n          w = messageTarget = undefined;\n        }\n\n        addListener(window, 'unload', cleanup);\n\n        function onMessage(e) {\n          if (e.origin !== origin) { return; }\n          try {\n            var d = JSON.parse(e.data);\n          } catch(err) {\n            if (cb) {\n              return cb(err);\n            } else {\n              throw err;\n            }\n          }\n\n          if (d.a === 'ready') {\n            messageTarget.postMessage(req, origin);\n          } else if (d.a === 'error') {\n            cleanup();\n            if (cb) {\n              cb(d.d);\n              cb = null;\n            }\n          } else if (d.a === 'response') {\n            cleanup();\n            if (cb) {\n              cb(null, d.d);\n              cb = null;\n            }\n          }\n        }\n\n        addListener(window, 'message', onMessage);\n\n        return {\n          close: cleanup,\n          focus: function() {\n            if (w) {\n              try {\n                w.focus();\n              } catch (e) {\n                // IE7 blows up here, do nothing\n              }\n            }\n          }\n        };\n      },\n      onOpen: function(cb) {\n        var o = \"*\";\n        var msgTarget = isIE ? findRelay() : window.opener;\n        if (!msgTarget) throw \"can't find relay frame\";\n        function doPost(msg) {\n          msg = JSON.stringify(msg);\n          if (isIE) msgTarget.doPost(msg, o);\n          else msgTarget.postMessage(msg, o);\n        }\n\n        function onMessage(e) {\n          // only one message gets through, but let's make sure it's actually\n          // the message we're looking for (other code may be using\n          // postmessage) - we do this by ensuring the payload can\n          // be parsed, and it's got an 'a' (action) value of 'request'.\n          var d;\n          try {\n            d = JSON.parse(e.data);\n          } catch(err) { }\n          if (!d || d.a !== 'request') return;\n          removeListener(window, 'message', onMessage);\n          o = e.origin;\n          if (cb) {\n            // this setTimeout is critically important for IE8 -\n            // in ie8 sometimes addListener for 'message' can synchronously\n            // cause your callback to be invoked.  awesome.\n            setTimeout(function() {\n              cb(o, d.d, function(r) {\n                cb = undefined;\n                doPost({a: 'response', d: r});\n              });\n            }, 0);\n          }\n        }\n\n        function onDie(e) {\n          if (e.data === CLOSE_CMD) {\n            try { window.close(); } catch (o_O) {}\n          }\n        }\n        addListener(isIE ? msgTarget : window, 'message', onMessage);\n        addListener(isIE ? msgTarget : window, 'message', onDie);\n\n        // we cannot post to our parent that we're ready before the iframe\n        // is loaded. (IE specific possible failure)\n        try {\n          doPost({a: \"ready\"});\n        } catch(e) {\n          // this code should never be exectued outside IE\n          addListener(msgTarget, 'load', function(e) {\n            doPost({a: \"ready\"});\n          });\n        }\n\n        // if window is unloaded and the client hasn't called cb, it's an error\n        var onUnload = function() {\n          try {\n            // IE8 doesn't like this...\n            removeListener(isIE ? msgTarget : window, 'message', onDie);\n          } catch (ohWell) { }\n          if (cb) doPost({ a: 'error', d: 'client closed window' });\n          cb = undefined;\n          // explicitly close the window, in case the client is trying to reload or nav\n          try { window.close(); } catch (e) { }\n        };\n        addListener(window, 'unload', onUnload);\n        return {\n          detach: function() {\n            removeListener(window, 'unload', onUnload);\n          }\n        };\n      }\n    };\n  } else {\n    return {\n      open: function(url, winopts, arg, cb) {\n        setTimeout(function() { cb(\"unsupported browser\"); }, 0);\n      },\n      onOpen: function(cb) {\n        setTimeout(function() { cb(\"unsupported browser\"); }, 0);\n      }\n    };\n  }\n})();\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = WinChan;\n}\n","map":{"mappings":[{"source":"node_modules/winchan/winchan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":140,"column":0},"generated":{"line":140,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":141,"column":0},"generated":{"line":141,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":142,"column":0},"generated":{"line":142,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":143,"column":0},"generated":{"line":143,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":144,"column":0},"generated":{"line":144,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":145,"column":0},"generated":{"line":145,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":146,"column":0},"generated":{"line":146,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":147,"column":0},"generated":{"line":147,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":148,"column":0},"generated":{"line":148,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":149,"column":0},"generated":{"line":149,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":150,"column":0},"generated":{"line":150,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":151,"column":0},"generated":{"line":151,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":152,"column":0},"generated":{"line":152,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":153,"column":0},"generated":{"line":153,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":154,"column":0},"generated":{"line":154,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":155,"column":0},"generated":{"line":155,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":156,"column":0},"generated":{"line":156,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":157,"column":0},"generated":{"line":157,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":158,"column":0},"generated":{"line":158,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":159,"column":0},"generated":{"line":159,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":160,"column":0},"generated":{"line":160,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":161,"column":0},"generated":{"line":161,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":162,"column":0},"generated":{"line":162,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":163,"column":0},"generated":{"line":163,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":164,"column":0},"generated":{"line":164,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":165,"column":0},"generated":{"line":165,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":166,"column":0},"generated":{"line":166,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":167,"column":0},"generated":{"line":167,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":168,"column":0},"generated":{"line":168,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":169,"column":0},"generated":{"line":169,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":170,"column":0},"generated":{"line":170,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":171,"column":0},"generated":{"line":171,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":172,"column":0},"generated":{"line":172,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":173,"column":0},"generated":{"line":173,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":174,"column":0},"generated":{"line":174,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":175,"column":0},"generated":{"line":175,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":176,"column":0},"generated":{"line":176,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":177,"column":0},"generated":{"line":177,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":178,"column":0},"generated":{"line":178,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":179,"column":0},"generated":{"line":179,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":180,"column":0},"generated":{"line":180,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":181,"column":0},"generated":{"line":181,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":182,"column":0},"generated":{"line":182,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":183,"column":0},"generated":{"line":183,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":184,"column":0},"generated":{"line":184,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":185,"column":0},"generated":{"line":185,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":186,"column":0},"generated":{"line":186,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":187,"column":0},"generated":{"line":187,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":188,"column":0},"generated":{"line":188,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":189,"column":0},"generated":{"line":189,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":190,"column":0},"generated":{"line":190,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":191,"column":0},"generated":{"line":191,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":192,"column":0},"generated":{"line":192,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":193,"column":0},"generated":{"line":193,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":194,"column":0},"generated":{"line":194,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":195,"column":0},"generated":{"line":195,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":196,"column":0},"generated":{"line":196,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":197,"column":0},"generated":{"line":197,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":198,"column":0},"generated":{"line":198,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":199,"column":0},"generated":{"line":199,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":200,"column":0},"generated":{"line":200,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":201,"column":0},"generated":{"line":201,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":202,"column":0},"generated":{"line":202,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":203,"column":0},"generated":{"line":203,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":204,"column":0},"generated":{"line":204,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":205,"column":0},"generated":{"line":205,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":206,"column":0},"generated":{"line":206,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":207,"column":0},"generated":{"line":207,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":208,"column":0},"generated":{"line":208,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":209,"column":0},"generated":{"line":209,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":210,"column":0},"generated":{"line":210,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":211,"column":0},"generated":{"line":211,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":212,"column":0},"generated":{"line":212,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":213,"column":0},"generated":{"line":213,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":214,"column":0},"generated":{"line":214,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":215,"column":0},"generated":{"line":215,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":216,"column":0},"generated":{"line":216,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":217,"column":0},"generated":{"line":217,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":218,"column":0},"generated":{"line":218,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":219,"column":0},"generated":{"line":219,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":220,"column":0},"generated":{"line":220,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":221,"column":0},"generated":{"line":221,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":222,"column":0},"generated":{"line":222,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":223,"column":0},"generated":{"line":223,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":224,"column":0},"generated":{"line":224,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":225,"column":0},"generated":{"line":225,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":226,"column":0},"generated":{"line":226,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":227,"column":0},"generated":{"line":227,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":228,"column":0},"generated":{"line":228,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":229,"column":0},"generated":{"line":229,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":230,"column":0},"generated":{"line":230,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":231,"column":0},"generated":{"line":231,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":232,"column":0},"generated":{"line":232,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":233,"column":0},"generated":{"line":233,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":234,"column":0},"generated":{"line":234,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":235,"column":0},"generated":{"line":235,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":236,"column":0},"generated":{"line":236,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":237,"column":0},"generated":{"line":237,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":238,"column":0},"generated":{"line":238,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":239,"column":0},"generated":{"line":239,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":240,"column":0},"generated":{"line":240,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":241,"column":0},"generated":{"line":241,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":242,"column":0},"generated":{"line":242,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":243,"column":0},"generated":{"line":243,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":244,"column":0},"generated":{"line":244,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":245,"column":0},"generated":{"line":245,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":246,"column":0},"generated":{"line":246,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":247,"column":0},"generated":{"line":247,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":248,"column":0},"generated":{"line":248,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":249,"column":0},"generated":{"line":249,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":250,"column":0},"generated":{"line":250,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":251,"column":0},"generated":{"line":251,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":252,"column":0},"generated":{"line":252,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":253,"column":0},"generated":{"line":253,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":254,"column":0},"generated":{"line":254,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":255,"column":0},"generated":{"line":255,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":256,"column":0},"generated":{"line":256,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":257,"column":0},"generated":{"line":257,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":258,"column":0},"generated":{"line":258,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":259,"column":0},"generated":{"line":259,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":260,"column":0},"generated":{"line":260,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":261,"column":0},"generated":{"line":261,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":262,"column":0},"generated":{"line":262,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":263,"column":0},"generated":{"line":263,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":264,"column":0},"generated":{"line":264,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":265,"column":0},"generated":{"line":265,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":266,"column":0},"generated":{"line":266,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":267,"column":0},"generated":{"line":267,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":268,"column":0},"generated":{"line":268,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":269,"column":0},"generated":{"line":269,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":270,"column":0},"generated":{"line":270,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":271,"column":0},"generated":{"line":271,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":272,"column":0},"generated":{"line":272,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":273,"column":0},"generated":{"line":273,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":274,"column":0},"generated":{"line":274,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":275,"column":0},"generated":{"line":275,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":276,"column":0},"generated":{"line":276,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":277,"column":0},"generated":{"line":277,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":278,"column":0},"generated":{"line":278,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":279,"column":0},"generated":{"line":279,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":280,"column":0},"generated":{"line":280,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":281,"column":0},"generated":{"line":281,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":282,"column":0},"generated":{"line":282,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":283,"column":0},"generated":{"line":283,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":284,"column":0},"generated":{"line":284,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":285,"column":0},"generated":{"line":285,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":286,"column":0},"generated":{"line":286,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":287,"column":0},"generated":{"line":287,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":288,"column":0},"generated":{"line":288,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":289,"column":0},"generated":{"line":289,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":290,"column":0},"generated":{"line":290,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":291,"column":0},"generated":{"line":291,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":292,"column":0},"generated":{"line":292,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":293,"column":0},"generated":{"line":293,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":294,"column":0},"generated":{"line":294,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":295,"column":0},"generated":{"line":295,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":296,"column":0},"generated":{"line":296,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":297,"column":0},"generated":{"line":297,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":298,"column":0},"generated":{"line":298,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":299,"column":0},"generated":{"line":299,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":300,"column":0},"generated":{"line":300,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":301,"column":0},"generated":{"line":301,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":302,"column":0},"generated":{"line":302,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":303,"column":0},"generated":{"line":303,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":304,"column":0},"generated":{"line":304,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":305,"column":0},"generated":{"line":305,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":306,"column":0},"generated":{"line":306,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":307,"column":0},"generated":{"line":307,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":308,"column":0},"generated":{"line":308,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":309,"column":0},"generated":{"line":309,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":310,"column":0},"generated":{"line":310,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":311,"column":0},"generated":{"line":311,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":312,"column":0},"generated":{"line":312,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":313,"column":0},"generated":{"line":313,"column":0}},{"source":"node_modules/winchan/winchan.js","original":{"line":314,"column":0},"generated":{"line":314,"column":0}}],"sources":{"node_modules/winchan/winchan.js":"var WinChan = (function() {\n  var RELAY_FRAME_NAME = \"__winchan_relay_frame\";\n  var CLOSE_CMD = \"die\";\n\n  // a portable addListener implementation\n  function addListener(w, event, cb) {\n    if(w.attachEvent) w.attachEvent('on' + event, cb);\n    else if (w.addEventListener) w.addEventListener(event, cb, false);\n  }\n\n  // a portable removeListener implementation\n  function removeListener(w, event, cb) {\n    if(w.detachEvent) w.detachEvent('on' + event, cb);\n    else if (w.removeEventListener) w.removeEventListener(event, cb, false);\n  }\n\n\n  // checking for IE8 or above\n  function isInternetExplorer() {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n\n    var rv = -1; // Return value assumes failure.\n    var ua = navigator.userAgent;\n    if (navigator.appName === 'Microsoft Internet Explorer') {\n      var re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\n      if (re.exec(ua) != null)\n        rv = parseFloat(RegExp.$1);\n    }\n    // IE > 11\n    else if (ua.indexOf(\"Trident\") > -1) {\n      var re = new RegExp(\"rv:([0-9]{2,2}[\\.0-9]{0,})\");\n      if (re.exec(ua) !== null) {\n        rv = parseFloat(RegExp.$1);\n      }\n    }\n\n    return rv >= 8;\n  }\n\n  // checking Mobile Firefox (Fennec)\n  function isFennec() {\n    try {\n      // We must check for both XUL and Java versions of Fennec.  Both have\n      // distinct UA strings.\n      var userAgent = navigator.userAgent;\n      return (userAgent.indexOf('Fennec/') != -1) ||  // XUL\n             (userAgent.indexOf('Firefox/') != -1 && userAgent.indexOf('Android') != -1);   // Java\n    } catch(e) {}\n    return false;\n  }\n\n  // feature checking to see if this platform is supported at all\n  function isSupported() {\n    return (typeof window !== 'undefined' && window.JSON && window.JSON.stringify &&\n            window.JSON.parse && window.postMessage);\n  }\n\n  // given a URL, extract the origin. Taken from: https://github.com/firebase/firebase-simple-login/blob/d2cb95b9f812d8488bdbfba51c3a7c153ba1a074/js/src/simple-login/transports/WinChan.js#L25-L30\n  function extractOrigin(url) {\n    if (!/^https?:\\/\\//.test(url)) url = window.location.href;\n    var m = /^(https?:\\/\\/[\\-_a-zA-Z\\.0-9:]+)/.exec(url);\n    if (m) return m[1];\n    return url;\n  }\n\n  // find the relay iframe in the opener\n  function findRelay() {\n    var loc = window.location;\n    var frames = window.opener.frames;\n    for (var i = frames.length - 1; i >= 0; i--) {\n      try {\n        if (frames[i].location.protocol === window.location.protocol &&\n            frames[i].location.host === window.location.host &&\n            frames[i].name === RELAY_FRAME_NAME)\n        {\n          return frames[i];\n        }\n      } catch(e) { }\n    }\n    return;\n  }\n\n  var isIE = isInternetExplorer();\n\n  if (isSupported()) {\n    /*  General flow:\n     *                  0. user clicks\n     *  (IE SPECIFIC)   1. caller adds relay iframe (served from trusted domain) to DOM\n     *                  2. caller opens window (with content from trusted domain)\n     *                  3. window on opening adds a listener to 'message'\n     *  (IE SPECIFIC)   4. window on opening finds iframe\n     *                  5. window checks if iframe is \"loaded\" - has a 'doPost' function yet\n     *  (IE SPECIFIC5)  5a. if iframe.doPost exists, window uses it to send ready event to caller\n     *  (IE SPECIFIC5)  5b. if iframe.doPost doesn't exist, window waits for frame ready\n     *  (IE SPECIFIC5)  5bi. once ready, window calls iframe.doPost to send ready event\n     *                  6. caller upon reciept of 'ready', sends args\n     */\n    return {\n      open: function(opts, cb) {\n        if (!cb) throw \"missing required callback argument\";\n\n        // test required options\n        var err;\n        if (!opts.url) err = \"missing required 'url' parameter\";\n        if (!opts.relay_url) err = \"missing required 'relay_url' parameter\";\n        if (err) setTimeout(function() { cb(err); }, 0);\n\n        // supply default options\n        if (!opts.window_name) opts.window_name = null;\n        if (!opts.window_features || isFennec()) opts.window_features = undefined;\n\n        // opts.params may be undefined\n\n        var iframe;\n\n        // sanity check, are url and relay_url the same origin?\n        var origin = opts.origin || extractOrigin(opts.url);\n        if (origin !== extractOrigin(opts.relay_url)) {\n          return setTimeout(function() {\n            cb('invalid arguments: origin of url and relay_url must match');\n          }, 0);\n        }\n\n        var messageTarget;\n\n        if (isIE) {\n          // first we need to add a \"relay\" iframe to the document that's served\n          // from the target domain.  We can postmessage into a iframe, but not a\n          // window\n          iframe = document.createElement(\"iframe\");\n          // iframe.setAttribute('name', framename);\n          iframe.setAttribute('src', opts.relay_url);\n          iframe.style.display = \"none\";\n          iframe.setAttribute('name', RELAY_FRAME_NAME);\n          document.body.appendChild(iframe);\n          messageTarget = iframe.contentWindow;\n        }\n\n        var w = opts.popup || window.open(opts.url, opts.window_name, opts.window_features);\n        if (opts.popup) {\n          w.location.href = opts.url;\n        }\n\n        if (!messageTarget) messageTarget = w;\n\n        // lets listen in case the window blows up before telling us\n        var closeInterval = setInterval(function() {\n          if (w && w.closed) {\n            cleanup();\n            if (cb) {\n              cb('User closed the popup window');\n              cb = null;\n            }\n          }\n        }, 500);\n\n        var req = JSON.stringify({a: 'request', d: opts.params});\n\n        // cleanup on unload\n        function cleanup() {\n          if (iframe) document.body.removeChild(iframe);\n          iframe = undefined;\n          if (closeInterval) closeInterval = clearInterval(closeInterval);\n          removeListener(window, 'message', onMessage);\n          removeListener(window, 'unload', cleanup);\n          if (w) {\n            try {\n              w.close();\n            } catch (securityViolation) {\n              // This happens in Opera 12 sometimes\n              // see https://github.com/mozilla/browserid/issues/1844\n              messageTarget.postMessage(CLOSE_CMD, origin);\n            }\n          }\n          w = messageTarget = undefined;\n        }\n\n        addListener(window, 'unload', cleanup);\n\n        function onMessage(e) {\n          if (e.origin !== origin) { return; }\n          try {\n            var d = JSON.parse(e.data);\n          } catch(err) {\n            if (cb) {\n              return cb(err);\n            } else {\n              throw err;\n            }\n          }\n\n          if (d.a === 'ready') {\n            messageTarget.postMessage(req, origin);\n          } else if (d.a === 'error') {\n            cleanup();\n            if (cb) {\n              cb(d.d);\n              cb = null;\n            }\n          } else if (d.a === 'response') {\n            cleanup();\n            if (cb) {\n              cb(null, d.d);\n              cb = null;\n            }\n          }\n        }\n\n        addListener(window, 'message', onMessage);\n\n        return {\n          close: cleanup,\n          focus: function() {\n            if (w) {\n              try {\n                w.focus();\n              } catch (e) {\n                // IE7 blows up here, do nothing\n              }\n            }\n          }\n        };\n      },\n      onOpen: function(cb) {\n        var o = \"*\";\n        var msgTarget = isIE ? findRelay() : window.opener;\n        if (!msgTarget) throw \"can't find relay frame\";\n        function doPost(msg) {\n          msg = JSON.stringify(msg);\n          if (isIE) msgTarget.doPost(msg, o);\n          else msgTarget.postMessage(msg, o);\n        }\n\n        function onMessage(e) {\n          // only one message gets through, but let's make sure it's actually\n          // the message we're looking for (other code may be using\n          // postmessage) - we do this by ensuring the payload can\n          // be parsed, and it's got an 'a' (action) value of 'request'.\n          var d;\n          try {\n            d = JSON.parse(e.data);\n          } catch(err) { }\n          if (!d || d.a !== 'request') return;\n          removeListener(window, 'message', onMessage);\n          o = e.origin;\n          if (cb) {\n            // this setTimeout is critically important for IE8 -\n            // in ie8 sometimes addListener for 'message' can synchronously\n            // cause your callback to be invoked.  awesome.\n            setTimeout(function() {\n              cb(o, d.d, function(r) {\n                cb = undefined;\n                doPost({a: 'response', d: r});\n              });\n            }, 0);\n          }\n        }\n\n        function onDie(e) {\n          if (e.data === CLOSE_CMD) {\n            try { window.close(); } catch (o_O) {}\n          }\n        }\n        addListener(isIE ? msgTarget : window, 'message', onMessage);\n        addListener(isIE ? msgTarget : window, 'message', onDie);\n\n        // we cannot post to our parent that we're ready before the iframe\n        // is loaded. (IE specific possible failure)\n        try {\n          doPost({a: \"ready\"});\n        } catch(e) {\n          // this code should never be exectued outside IE\n          addListener(msgTarget, 'load', function(e) {\n            doPost({a: \"ready\"});\n          });\n        }\n\n        // if window is unloaded and the client hasn't called cb, it's an error\n        var onUnload = function() {\n          try {\n            // IE8 doesn't like this...\n            removeListener(isIE ? msgTarget : window, 'message', onDie);\n          } catch (ohWell) { }\n          if (cb) doPost({ a: 'error', d: 'client closed window' });\n          cb = undefined;\n          // explicitly close the window, in case the client is trying to reload or nav\n          try { window.close(); } catch (e) { }\n        };\n        addListener(window, 'unload', onUnload);\n        return {\n          detach: function() {\n            removeListener(window, 'unload', onUnload);\n          }\n        };\n      }\n    };\n  } else {\n    return {\n      open: function(url, winopts, arg, cb) {\n        setTimeout(function() { cb(\"unsupported browser\"); }, 0);\n      },\n      onOpen: function(cb) {\n        setTimeout(function() { cb(\"unsupported browser\"); }, 0);\n      }\n    };\n  }\n})();\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = WinChan;\n}\n"},"lineCount":314}},"hash":"ebe59c97628aac58a58394a23d5c0a83","cacheData":{"env":{}}}